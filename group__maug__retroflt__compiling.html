<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>maug: RetroFlat Compilation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">maug
   </div>
   <div id="projectbrief">Quick and dirty C mini-augmentation library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">RetroFlat Compilation<div class="ingroups"><a class="el" href="group__maug__retroflt.html">RetroFlat API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Makefile examples and compiler considerations for using RetroFlat.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for RetroFlat Compilation:</div>
<div class="dyncontent">
<div class="center"><img src="group__maug__retroflt__compiling.png" border="0" usemap="#agroup____maug____retroflt____compiling" alt=""/></div>
<map name="agroup____maug____retroflt____compiling" id="agroup____maug____retroflt____compiling">
<area shape="rect" href="group__maug__retroflt.html" title="Abstraction layer header for retro systems." alt="" coords="5,5,112,31"/>
<area shape="rect" title="Makefile examples and compiler considerations for using RetroFlat." alt="" coords="160,5,325,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8b2233a41d03a2444621a8b8788c6c16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__maug__retroflt__compiling.html#ga8b2233a41d03a2444621a8b8788c6c16">RETROFLAT_FPS</a>&#160;&#160;&#160;30</td></tr>
<tr class="memdesc:ga8b2233a41d03a2444621a8b8788c6c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Target Frames Per Second.  <a href="group__maug__retroflt__compiling.html#ga8b2233a41d03a2444621a8b8788c6c16">More...</a><br /></td></tr>
<tr class="separator:ga8b2233a41d03a2444621a8b8788c6c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8da1ddfa2292da97a8927722872684de"><td class="memItemLeft" align="right" valign="top"><a id="ga8da1ddfa2292da97a8927722872684de" name="ga8da1ddfa2292da97a8927722872684de"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>retroflat_fps_next</b>()&#160;&#160;&#160;(1000 / <a class="el" href="group__maug__retroflt__compiling.html#ga8b2233a41d03a2444621a8b8788c6c16">RETROFLAT_FPS</a>)</td></tr>
<tr class="separator:ga8da1ddfa2292da97a8927722872684de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga784d1bd93d86f7dde45c07aa3067584c"><td class="memItemLeft" align="right" valign="top"><a id="ga784d1bd93d86f7dde45c07aa3067584c" name="ga784d1bd93d86f7dde45c07aa3067584c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_WINDOW_CLASS</b>&#160;&#160;&#160;&quot;RetroFlatWindowClass&quot;</td></tr>
<tr class="memdesc:ga784d1bd93d86f7dde45c07aa3067584c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique window class to use on some platforms (e.g. Win32). Is a <a class="el" href="group__maug__retroflt__compiling.html">RetroFlat Compiler Definitions</a>. <br /></td></tr>
<tr class="separator:ga784d1bd93d86f7dde45c07aa3067584c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61c99e23e27fa7a1d3edbe8b5b4cffde"><td class="memItemLeft" align="right" valign="top"><a id="ga61c99e23e27fa7a1d3edbe8b5b4cffde" name="ga61c99e23e27fa7a1d3edbe8b5b4cffde"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_WIN_FRAME_TIMER_ID</b>&#160;&#160;&#160;6001</td></tr>
<tr class="memdesc:ga61c99e23e27fa7a1d3edbe8b5b4cffde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique ID for the timer that execute frame draws in Win16/Win32. Is a <a class="el" href="group__maug__retroflt__compiling.html">RetroFlat Compiler Definitions</a>. <br /></td></tr>
<tr class="separator:ga61c99e23e27fa7a1d3edbe8b5b4cffde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4350389f2ddf28fbd89214a8370b1602"><td class="memItemLeft" align="right" valign="top"><a id="ga4350389f2ddf28fbd89214a8370b1602" name="ga4350389f2ddf28fbd89214a8370b1602"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_WIN_LOOP_TIMER_ID</b>&#160;&#160;&#160;6002</td></tr>
<tr class="memdesc:ga4350389f2ddf28fbd89214a8370b1602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique ID for the timer that execute loop ticks in Win16/Win32. Is a <a class="el" href="group__maug__retroflt__compiling.html">RetroFlat Compiler Definitions</a>. <br /></td></tr>
<tr class="separator:ga4350389f2ddf28fbd89214a8370b1602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga772947dbdd87d20dff6043e6d4007dea"><td class="memItemLeft" align="right" valign="top"><a id="ga772947dbdd87d20dff6043e6d4007dea" name="ga772947dbdd87d20dff6043e6d4007dea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_MSG_MAX</b>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:ga772947dbdd87d20dff6043e6d4007dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of characters possible in a message using <a class="el" href="group__maug__retroflt__msg__api.html#gab2d5a69aa8e2f401b8d38b62dc11c674" title="Display a message in a dialog box and/or on stderr.">retroflat_message()</a>. Is a <a class="el" href="group__maug__retroflt__compiling.html">RetroFlat Compiler Definitions</a>. <br /></td></tr>
<tr class="separator:ga772947dbdd87d20dff6043e6d4007dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac30ec1d6f5e317529a96fdbe4059cedb"><td class="memItemLeft" align="right" valign="top"><a id="gac30ec1d6f5e317529a96fdbe4059cedb" name="gac30ec1d6f5e317529a96fdbe4059cedb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_TITLE_MAX</b>&#160;&#160;&#160;255</td></tr>
<tr class="separator:gac30ec1d6f5e317529a96fdbe4059cedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6930d8c4d64485eefcdf16130d1302b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__maug__retroflt__compiling.html#ga6930d8c4d64485eefcdf16130d1302b9">RETROFLAT_VDP_ARGS_SZ_MAX</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:ga6930d8c4d64485eefcdf16130d1302b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc62d3bd105fa19582ade03d97dc606a"><td class="memItemLeft" align="right" valign="top"><a id="gafc62d3bd105fa19582ade03d97dc606a" name="gafc62d3bd105fa19582ade03d97dc606a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_PATH_SEP</b>&#160;&#160;&#160;'/'</td></tr>
<tr class="memdesc:gafc62d3bd105fa19582ade03d97dc606a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The valid path separator on the target platform. <br /></td></tr>
<tr class="separator:gafc62d3bd105fa19582ade03d97dc606a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaece7078936f4ded9fce191b3e900c056"><td class="memItemLeft" align="right" valign="top"><a id="gaece7078936f4ded9fce191b3e900c056" name="gaece7078936f4ded9fce191b3e900c056"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETROFLAT_BMP_COLORS_SZ_MAX</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:gaece7078936f4ded9fce191b3e900c056"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Makefile examples and compiler considerations for using RetroFlat. </p>


<h3><a id="maug_retroflt_cdefs_page" name="maug_retroflt_cdefs_page"></a>RetroFlat Compiler Definitions</h3><div class="textblock">Certain options can be configured when a RetroFlat program is compiled by passing definitions with the compiler using the -D flag, or by #define-ing them before <a class="el" href="retroflt_8h.html" title="Abstraction layer header for retro systems.">retroflt.h</a> is included in the source files.<h2>OS Selection Definitions</h2>
These are mutually exclusive. It's best to specify them, in case RetroFlat can't figure it out from the compiler options.<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Define   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_OS_WIN   </td><td class="markdownTableBodyNone">Specify that the program will run on Windows.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_OS_DOS   </td><td class="markdownTableBodyNone">Specify that the program will run on DOS DPMI.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_OS_DOS_REAL   </td><td class="markdownTableBodyNone">Specify that the program will run DOS real mode.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_OS_UNIX   </td><td class="markdownTableBodyNone">Specify that the program will run on UNIX/Linux.   </td></tr>
</table>
<h2>API/Library Selection Definitions</h2>
These are mutually exclusive. maug_retroglu is only supported on some (32-bit and up) platforms.<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Define   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Supports OpenGL    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_API_ALLEGRO   </td><td class="markdownTableBodyNone">Allegro   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_API_SDL1   </td><td class="markdownTableBodyNone">SDL 1.2   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_API_SDL2   </td><td class="markdownTableBodyNone">SDL 2   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_API_WIN16   </td><td class="markdownTableBodyNone">Windows 3.1x API   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_API_WIN32   </td><td class="markdownTableBodyNone">Win32/NT API   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_API_LIBNDS   </td><td class="markdownTableBodyNone">Nintendo DS   </td><td class="markdownTableBodyNone">Yes (Limited)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_API_PC_BIOS   </td><td class="markdownTableBodyNone">MS-DOS w/ PC BIOS   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_API_GLUT   </td><td class="markdownTableBodyNone">GLUT (OpenGL-Only)   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<h2>Option Definitions</h2>
These are <b>NOT</b> mutually exclusive.<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Define   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_MOUSE   </td><td class="markdownTableBodyNone">Force-enable mouse on broken APIs (DANGEROUS!)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_TXP_R   </td><td class="markdownTableBodyNone">Specify R component of bitmap transparent color.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_TXP_G   </td><td class="markdownTableBodyNone">Specify G component of bitmap transparent color.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_TXP_B   </td><td class="markdownTableBodyNone">Specify B component of bitmap transparent color.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_BITMAP_EXT   </td><td class="markdownTableBodyNone">Specify file extension for bitmap assets.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RETROFLAT_NO_RESIZABLE   </td><td class="markdownTableBodyNone">Disallow resizing the RetroFlat window.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RETROFLAT_NO_BLANK_INIT   </td><td class="markdownTableBodyNone">Do not blank screen on retroflat_ini().   </td></tr>
</table>
</div>

<h3><a id="maug_retroflt_makefile_page" name="maug_retroflt_makefile_page"></a>RetroFlat Project Makefiles</h3><div class="textblock"><h2>Win16 (OpenWatcom)</h2>
Compiling projects for Win16 requires the OpenWatcom compiler from <a href="https://github.com/open-watcom/open-watcom-v2">https://github.com/open-watcom/open-watcom-v2</a>. Other compilers may work, but this is the only one that has been tested. No other specific libraries are required. The Windows API is used directly.The Watcom Makefile includes assume the following variable definitions from the environment:<ul>
<li><b>$WATCOM</b> should be set to the path where the OpenWatcom compiler has been extracted, containing the binw, binl, h, and lib386 directories (among others).</li>
<li><b>$PATH</b> should contain $WATCOM/bin, so that the wcc386 and accompanying tools below can be executed.</li>
</ul>
For an example of the main.c file, please see <a class="el" href="group__maug__retroflt__example.html">RetroFlat Example</a>.<h2>Makefile</h2>
An example to use the unified Makefile include follows. Please name it "Makefile" in the root directory of the project and replace "exampl" with a 6-character binary name for best results! </p><pre class="fragment">  # A list of C files included in the project. These must be provided
  # by you. In this example, our program only has one file.
  C_FILES := main.c

  # Project-specific defines to pass to EVERY target.
  GLOBAL_DEFINES := 

  # Include the template Makefile that will create targets for
  # platforms as specified below.
  include maug/Makefile.inc

  # Build these targets by default.
  all: exampl.sdl examplb.exe examplnt.exe

  # Create an icon from exampl.bmp for SDL to use for its window.
  $(eval $(call TGTSDLICO,mdemo))

  $(eval $(call TGTUNIXSDL,mdemo))

  # Build a DOS real-mode target.
  $(eval $(call TGTDOSBIOS,exampl))

  # Create an icon and resource file from exampl.bmp for Windows
  # targets to use.
  $(eval $(call TGTWINICO,exampl))

  # Build a Windows NT 32-bit target.
  $(eval $(call TGTWINNT,exampl))

  # Remove built files from previously defined targets.
  clean:
     rm -rf $(CLEAN_TARGETS)
</pre> </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga8b2233a41d03a2444621a8b8788c6c16" name="ga8b2233a41d03a2444621a8b8788c6c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b2233a41d03a2444621a8b8788c6c16">&#9670;&nbsp;</a></span>RETROFLAT_FPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETROFLAT_FPS&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Target Frames Per Second. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>FPS currently has no effect in Allegro. </dd></dl>

</div>
</div>
<a id="ga6930d8c4d64485eefcdf16130d1302b9" name="ga6930d8c4d64485eefcdf16130d1302b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6930d8c4d64485eefcdf16130d1302b9">&#9670;&nbsp;</a></span>RETROFLAT_VDP_ARGS_SZ_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETROFLAT_VDP_ARGS_SZ_MAX&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >\warn Changing this may break binary compatibility! </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
